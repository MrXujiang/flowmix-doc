import{_ as s,o as a,c as l,O as n}from"./chunks/framework.59bec809.js";const h=JSON.parse('{"title":"搭建协议设计","description":"","frontmatter":{},"headers":[],"relativePath":"editor/dsl.md","filePath":"editor/dsl.md","lastUpdated":1687273045000}'),o={name:"editor/dsl.md"},e=n(`<h1 id="搭建协议设计" tabindex="-1">搭建协议设计 <a class="header-anchor" href="#搭建协议设计" aria-label="Permalink to &quot;搭建协议设计&quot;">​</a></h1><h2 id="dooring-可编辑组件-schema-设计" tabindex="-1">Dooring 可编辑组件 Schema 设计 <a class="header-anchor" href="#dooring-可编辑组件-schema-设计" aria-label="Permalink to &quot;Dooring 可编辑组件 Schema 设计&quot;">​</a></h2><p>Schema 分两部分:</p><ul><li>editData 组件可编辑属性的数组</li><li>config 组件真正消费的数据</li></ul><h3 id="editdata-详解" tabindex="-1">editData 详解 <a class="header-anchor" href="#editdata-详解" aria-label="Permalink to &quot;editData 详解&quot;">​</a></h3><p><code>editData</code> 是 组件属性可编辑项的数组, 每一项里面包含了如下字段:</p><ul><li>key 属性名</li><li>name: 属性名的中文显示</li><li>type: 属性的可编辑类型</li><li>isCrop(可选)</li><li>cropRate(可选)</li><li>range(type 为&#39;Radio&#39;或&#39;Select&#39;时的选项数组)</li><li>后期可能会扩展(详细结构可参考<a href="https://github.com/MrXujiang/h5-Dooring" target="_blank" rel="noreferrer">Dooring 开源版本</a>)</li></ul><p><code>key</code>和<code>name</code> 都可以按照组件属性的语义来定, 这里值得一提的是 <code>type</code>. 不同属性的值类型不同, 所以我们编辑项的 <code>type</code> 也不同, 所有的类型如下:</p><ul><li>Upload 上传组件</li><li>Text 文本框</li><li>RichText 富文本</li><li>TextArea 多行文本</li><li>Number 数字输入框</li><li>DataList 列表编辑器</li><li>FileList 文件列表编辑器</li><li>InteractionData 交互设置</li><li>Color 颜色面板</li><li>MutiText 多文本</li><li>Select 选择下拉框</li><li>Radio 单选框</li><li>Switch 开关切换</li><li>CardPicker 卡片面板</li><li>Table 表格编辑器</li><li>Pos 坐标编辑器</li><li>FormItems 表单设计器</li></ul><p>更详细的代码可以参考私有化部署版的<code>editor/src/core/FormComponents</code> 目录.</p><h3 id="config-详解" tabindex="-1">config 详解 <a class="header-anchor" href="#config-详解" aria-label="Permalink to &quot;config 详解&quot;">​</a></h3><p><code>config</code> 本质上是一个对象, 也就是组件所能暴露出来的属性集合, 和 <code>editData</code> 数组每一项的<code>key</code> 一致, 如下:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">cpName</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Header</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">logoText</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">fontSize</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">20</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">color</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rgba(47,84,235,1)</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">height</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">60</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">fixTop</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">menuList</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">首页</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        link</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">产品介绍</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        link</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    ]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span></code></pre></div><p><code>editData</code> 和 <code>config</code> 构成了一个 <code>Dooring</code> 组件的 <code>schema</code> 结构, 所以我们可以发现, 每一个 <code>dooring</code> 组件都具备如下结构:</p><ul><li>index.tsx 组件主文件(可以集成任何第三方开源库)</li><li>index.less 组件的样式文件</li><li>schema.ts 组件的schema(组件描述协议) <ul><li>editData</li><li>config</li></ul></li></ul><p>当然组件的 <code>schema</code> 也可以根据自己的需求来扩展, 如果在组件设计上有疑问的, 可以随时联系 <a href="https://cdn.dooring.cn/dr/dooring.jpeg" target="_blank" rel="noreferrer">Dooring团队</a>.</p>`,16),p=[e];function t(c,r,i,F,D,y){return a(),l("div",null,p)}const m=s(o,[["render",t]]);export{h as __pageData,m as default};
